{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/refactor/formularios.css' %}">
    <title>Contacto | 127.0.0.1</title>
{% endblock %}

{% block content %}

<main>
    {% if request.method == 'GET' %}
    <div class="center-container">
        <div class="form-wrapper contacto">
            <div class="form-title">
                <h1>Contáctanos!</h1>
            </div>
            <div class="form-description">
                <p>Puedes usar este formulario para contactarte con nosotros o puedes enviarnos un correo electrónico a esta dirección contacto@127.0.0.1</p>
                <p>Por favor usa este espacio con responsabilidad. Solo respondemos reclamos DMCA, peticiones, consultas, felicitaciones y problemas con respecto a tu cuenta.</p>
                <p>Para comunicarte con el webmaster y creador de esta página, enviar un email a manuel@127.0.0.1</p>
            </div>
            <script src="https://www.google.com/recaptcha/api.js" async defer></script>
            <div class="form-content">
                <form method="POST" id="form">
                    {% csrf_token %}
                    {{ form.nombre_completo }}
                    {{ form.email }}
                    {{ form.asunto }}
                    {{ form.mensaje }}
                    <div class="g-recaptcha" data-sitekey="6LcevyMeAAAAAAOVCuzUblGPgcTT1VIEP9UrT4Jx" data-callback="enableBtn"></div>
                    <p id="mensaje">Verifica que eres humano</p>
                    <input style="background-color: #b5b5b5;" value="Enviar" type="submit" id="submit_details" disabled>
                </form>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="{% static 'js/forms.js' %}"></script>
    {% elif request.method == 'POST' %}
        <div class="center-container">
            <div class="form-wrapper">
                <div class="form-image">
                    <img loading="lazy" src="/media/icons/exitoso.png" alt="Exitoso" width="100px" height="100px">
                </div>
                <div class="form-title">
                    <h1>¡Mensaje enviado correctamente!</h1>
                </div>
                <div class="form-links">
                    <p>Volveras al inicio en 3 segundos...</p>
                    <a href="/">Volver ahora</a>
                </div>
            </div>
        </div>
        <script>
            //redirigir a la página principal en 3 segundos
            setTimeout(function(){
                window.location.href = "/";
            }, 3000);
        </script>
    {% endif %}
</main>

{% endblock %}